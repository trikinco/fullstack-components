import { Select } from '@trikinco/fullstack-components'
import { UseSelect } from './UseSelect'

export const metadata = {
  title: 'Select',
  description:
    'A smart dropdown component that creates, labels and sorts all its own options.',
}

# Select

A smart dropdown component that creates, labels and sorts all its own options.

<div className="mt-6">
  <Select
    prompt="Selecting a time zone in GMT"
    context="The time zone for Sydney should be selected"
  />
</div>

```jsx
<Select
  prompt="Selecting a time zone in GMT"
  context="The time zone for Sydney should be selected"
/>
```

## `useSelect`

`useSelect` is a utility hook that allows for full access to Select generation data.
Useful for generating lists or when creating custom dropdown components.

```jsx
import { useSelect } from '@trikinco/fullstack-components/client'
```

```jsx
'use client'

import { useSelect } from '@trikinco/fullstack-components/client'

export default () => {
  const { isLoading, isError, data } = useSelect({
    prompt:
      'The 10 nearest countries to Australia. Include a flag emoji in the label.',
  })

  if (isLoading) {
    return 'Loading "The 10 nearest countries to Australia"'
  }

  if (isError) {
    return 'Could not load "The 10 nearest countries to Australia"'
  }

  return (
    <>
      <p className="font-bold">{data?.label}</p>
      <ul>
        {data?.content?.map((item) => (
          <li key={item.value}>{item.label}</li>
        ))}
      </ul>
    </>
  )
}
```

<UseSelect />

## Setup

1. Add the `handleSelectRequest` to the [API handler route](/docs/get-started/#setup).

```ts title="app/api/fsutils/[...fscomponents]/route.ts"
import {
  handleFSComponents,
  handleSelectRequest,
  type FSCOptions,
} from '@trikinco/fullstack-components'

const fscOptions: FSCOptions = {
  handleSelect: handleSelectRequest({
    openAiApiKey: process.env.OPENAI_API_KEY || '',
  }),
  // Additional options and handlers...
}

const fscHandler = handleFSComponents(fscOptions)

export { fscHandler as GET, fscHandler as POST }
```

2. Import and use the `Select` component, or the `useSelect` hook from `/client`.

```jsx
import { Select } from '@trikinco/fullstack-components'
import { useSelect } from '@trikinco/fullstack-components/client'
```
