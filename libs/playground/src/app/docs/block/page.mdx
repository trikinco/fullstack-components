import Prose from '@/src/components/Prose'
import Blocks from './Blocks'

export const metadata = {
  title: 'Block - Generative UI',
  description:
    'Generate UI components with AI. Prompt goes in, UI comes out. Easy.',
}

<Prose className="mb-6">
# Block

Blocks are individual pieces of UI that are generated and mounted on the fly, and all you need is a `prompt`.

```jsx
import { Block } from '@trikinco/fullstack-components/client'
```

```jsx
<Block prompt="A vibrant page section with the text 'Welcome ðŸ‘‹'" />
```

</Prose>

<Blocks />

<Prose className="mt-6">

## Blocks

The UI above is made out of blocks like this:

```jsx
<Block
  prompt={`A navbar with a modern SVG logo, ${NAME_LIB} and some links. Dark bg, light text.`}
  fallback={
    <Spinner
      className="flex gap-3 p-3 items-center"
      classNameSpinner="mb-0"
    >
      Creating navbar...
    </Spinner>
  }
/>
```

<Prose className="mt-6">

## `useBlock` hook

`useBlock` is a utility hook that allows for access to similar features as `Block`.

```jsx
'use client'

import { useBlock } from '@trikinco/fullstack-components/client'

export default function Page() {
  const { id } = useBlock('A spinning button')

  return <div id={id}>Generating a button...</div>
}
```

</Prose>

## Setup

Add `block: handleBlockRequest()` to the [API handler route](/docs/get-started/#setup).

```ts title="app/api/fsutils/[...fscomponents]/route.ts"
import {
  handleFSComponents,
  handleBlockRequest,
  type FSCOptions,
} from '@trikinco/fullstack-components'

const fscOptions: FSCOptions = {
  block: handleBlockRequest({
    openAiApiKey: process.env.OPENAI_API_KEY || '',
  }),
  // Additional options and handlers...
}

const fscHandler = handleFSComponents(fscOptions)

export { fscHandler as GET, fscHandler as POST }
```

</Prose>
